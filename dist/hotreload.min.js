(()=>{var q={loggingEnabled:R("logging")??!1,htmlReloadMethod:R("html-reload-method")};document.addEventListener("turbo:load",()=>{ge()});function ge(){q.loggingEnabled=R("logging")??!1,q.htmlReloadMethod=R("html-reload-method")}function R(u){return document.querySelector(`meta[name="hotwire-hotreload:${u}"]`)?.content}var B=q;function p(...u){B.loggingEnabled&&console.log("[hotwire hotreload]",...u)}var A=class{static async reload(){return new A().reload()}async reload(){await this.#t()}async#t(){p("Reload html with Turbo..."),this.#e(),await this.#r()}#e(){document.addEventListener("turbo:before-render",()=>{Turbo.navigator.currentVisit.scrolled=!0},{once:!0})}#r(){return new Promise(i=>{document.addEventListener("turbo:load",()=>i(document),{once:!0}),window.Turbo.visit(window.location,{action:"replace"})})}};var Q=function(){"use strict";let u=new Set,i={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:b,afterNodeAdded:b,beforeNodeMorphed:b,afterNodeMorphed:b,beforeNodeRemoved:b,afterNodeRemoved:b,beforeAttributeUpdated:b,beforeNodePantried:b},head:{style:"merge",shouldPreserve:function(e){return e.getAttribute("im-preserve")==="true"},shouldReAppend:function(e){return e.getAttribute("im-re-append")==="true"},shouldRemove:b,afterHeadMorphed:b}};function s(e,t,r={}){e instanceof Document&&(e=e.documentElement),typeof t=="string"&&(t=le(t));let n=oe(t),l=te(e,n,r);return c(e,n,l)}function c(e,t,r){if(r.head.block){let n=e.querySelector("head"),l=t.querySelector("head");if(n&&l){let o=W(l,n,r);Promise.all(o).then(function(){c(e,t,Object.assign(r,{head:{block:!1,ignore:!0}}))});return}}if(r.morphStyle==="innerHTML")return j(t,e,r),r.config.twoPass&&G(e,r),Array.from(e.children);if(r.morphStyle==="outerHTML"||r.morphStyle==null){let n=se(t,e,r),l=n?.previousSibling??null,o=n?.nextSibling??null,a=I(e,n,r);if(n){if(a){let f=ae(l,a,o);return r.config.twoPass&&G(a.parentNode,r),f}}else return[]}else throw"Do not understand how to morph style "+r.morphStyle}function g(e,t){return!!t.ignoreActiveValue&&e===document.activeElement&&e!==document.body}function I(e,t,r){return r.ignoreActive&&e===document.activeElement?null:t==null?r.callbacks.beforeNodeRemoved(e)===!1?e:(e.parentNode?.removeChild(e),r.callbacks.afterNodeRemoved(e),null):H(e,t)?(r.callbacks.beforeNodeMorphed(e,t)===!1||(e instanceof HTMLHeadElement&&r.head.ignore||(e instanceof HTMLHeadElement&&r.head.style!=="morph"?W(t,e,r):(U(t,e,r),g(e,r)||j(t,e,r))),r.callbacks.afterNodeMorphed(e,t)),e):r.callbacks.beforeNodeRemoved(e)===!1||r.callbacks.beforeNodeAdded(t)===!1?e:(e.parentNode?.replaceChild(t,e),r.callbacks.afterNodeAdded(t),r.callbacks.afterNodeRemoved(e),t)}function j(e,t,r){e instanceof HTMLTemplateElement&&t instanceof HTMLTemplateElement&&(e=e.content,t=t.content);let n=e.firstChild,l=t.firstChild,o;for(;n;){if(o=n,n=o.nextSibling,l==null){if(r.config.twoPass&&r.persistentIds.has(o.id))t.appendChild(o);else{if(r.callbacks.beforeNodeAdded(o)===!1)continue;t.appendChild(o),r.callbacks.afterNodeAdded(o)}S(r,o);continue}if(J(o,l,r)){I(l,o,r),l=l.nextSibling,S(r,o);continue}let a=ne(e,t,o,l,r);if(a){l=_(l,a,r),I(a,o,r),S(r,o);continue}let f=ie(e,t,o,l,r);if(f){l=_(l,f,r),I(f,o,r),S(r,o);continue}if(r.config.twoPass&&r.persistentIds.has(o.id))t.insertBefore(o,l);else{if(r.callbacks.beforeNodeAdded(o)===!1)continue;t.insertBefore(o,l),r.callbacks.afterNodeAdded(o)}S(r,o)}for(;l!==null;){let a=l;l=l.nextSibling,Y(a,r)}}function y(e,t,r,n){return e==="value"&&n.ignoreActiveValue&&t===document.activeElement?!0:n.callbacks.beforeAttributeUpdated(e,t,r)===!1}function U(e,t,r){let n=e.nodeType;if(n===1){let l=e,o=t,a=l.attributes,f=o.attributes;for(let h of a)y(h.name,o,"update",r)||o.getAttribute(h.name)!==h.value&&o.setAttribute(h.name,h.value);for(let h=f.length-1;0<=h;h--){let w=f[h];if(!!w&&!l.hasAttribute(w.name)){if(y(w.name,o,"remove",r))continue;o.removeAttribute(w.name)}}}(n===8||n===3)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),g(t,r)||x(e,t,r)}function V(e,t,r,n){if(!(e instanceof Element&&t instanceof Element))return;let l=e[r],o=t[r];if(l!==o){let a=y(r,t,"update",n);a||(t[r]=e[r]),l?a||t.setAttribute(r,l):y(r,t,"remove",n)||t.removeAttribute(r)}}function x(e,t,r){if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&e.type!=="file"){let n=e.value,l=t.value;V(e,t,"checked",r),V(e,t,"disabled",r),e.hasAttribute("value")?n!==l&&(y("value",t,"update",r)||(t.setAttribute("value",n),t.value=n)):y("value",t,"remove",r)||(t.value="",t.removeAttribute("value"))}else if(e instanceof HTMLOptionElement&&t instanceof HTMLOptionElement)V(e,t,"selected",r);else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){let n=e.value,l=t.value;if(y("value",t,"update",r))return;n!==l&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n&&(t.firstChild.nodeValue=n)}}function W(e,t,r){let n=[],l=[],o=[],a=[],f=r.head.style,h=new Map;for(let d of e.children)h.set(d.outerHTML,d);for(let d of t.children){let m=h.has(d.outerHTML),L=r.head.shouldReAppend(d),F=r.head.shouldPreserve(d);m||F?L?l.push(d):(h.delete(d.outerHTML),o.push(d)):f==="append"?L&&(l.push(d),a.push(d)):r.head.shouldRemove(d)!==!1&&l.push(d)}a.push(...h.values()),O("to append: ",a);let w=[];for(let d of a){O("adding: ",d);let m=document.createRange().createContextualFragment(d.outerHTML).firstChild;if(O(m),r.callbacks.beforeNodeAdded(m)!==!1){if("href"in m&&m.href||"src"in m&&m.src){let L,F=new Promise(function(pe){L=pe});m.addEventListener("load",function(){L()}),w.push(F)}t.appendChild(m),r.callbacks.afterNodeAdded(m),n.push(m)}}for(let d of l)r.callbacks.beforeNodeRemoved(d)!==!1&&(t.removeChild(d),r.callbacks.afterNodeRemoved(d));return r.head.afterHeadMorphed(t,{added:n,kept:o,removed:l}),w}function O(...e){}function b(){}function ee(e){let t=Object.assign({},i);return Object.assign(t,e),t.callbacks=Object.assign({},i.callbacks,e.callbacks),t.head=Object.assign({},i.head,e.head),t}function te(e,t,r){let n=ee(r);return{target:e,newContent:t,config:n,morphStyle:n.morphStyle,ignoreActive:n.ignoreActive,ignoreActiveValue:n.ignoreActiveValue,idMap:he(e,t),deadIds:new Set,persistentIds:n.twoPass?me(e,t):new Set,pantry:n.twoPass?re():document.createElement("div"),callbacks:n.callbacks,head:n.head}}function re(){let e=document.createElement("div");return e.hidden=!0,document.body.insertAdjacentElement("afterend",e),e}function J(e,t,r){return e==null||t==null?!1:e instanceof Element&&t instanceof Element&&e.tagName===t.tagName?e.id!==""&&e.id===t.id?!0:T(r,e,t)>0:!1}function H(e,t){return e==null||t==null||e.id&&e.id!==t.id?!1:e.nodeType===t.nodeType&&e.tagName===t.tagName}function _(e,t,r){let n=e;for(;n!==t;){let l=n;n=l.nextSibling,Y(l,r)}return S(r,t),t.nextSibling}function ne(e,t,r,n,l){let o=T(l,r,t),a=null;if(o>0){a=n;let f=0;for(;a!=null;){if(J(r,a,l))return a;if(f+=T(l,a,e),f>o)return null;a=a.nextSibling}}return a}function ie(e,t,r,n,l){let o=n,a=r.nextSibling,f=0;for(;o!=null;){if(T(l,o,e)>0)return null;if(H(o,r))return o;if(H(o,a)&&(f++,a=a.nextSibling,f>=2))return null;o=o.nextSibling}return o}let C=new WeakSet;function le(e){let t=new DOMParser,r=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(r.match(/<\/html>/)||r.match(/<\/head>/)||r.match(/<\/body>/)){let n=t.parseFromString(e,"text/html");if(r.match(/<\/html>/))return C.add(n),n;{let l=n.firstChild;return l?(C.add(l),l):null}}else{let l=t.parseFromString("<body><template>"+e+"</template></body>","text/html").body.querySelector("template").content;return C.add(l),l}}function oe(e){if(e==null)return document.createElement("div");if(C.has(e))return e;if(e instanceof Node){let t=document.createElement("div");return t.append(e),t}else{let t=document.createElement("div");for(let r of[...e])t.append(r);return t}}function ae(e,t,r){let n=[],l=[];for(;e!=null;)n.push(e),e=e.previousSibling;let o=n.pop();for(;o!==void 0;)l.push(o),t.parentElement?.insertBefore(o,t),o=n.pop();for(l.push(t);r!=null;)n.push(r),l.push(r),r=r.nextSibling;for(;n.length>0;){let a=n.pop();t.parentElement?.insertBefore(a,t.nextSibling)}return l}function se(e,t,r){let n;n=e.firstChild;let l=n,o=0;for(;n;){let a=ue(n,t,r);a>o&&(l=n,o=a),n=n.nextSibling}return l}function ue(e,t,r){return H(t,e)?.5+T(r,e,t):0}function Y(e,t){if(S(t,e),t.config.twoPass&&ce(t,e)&&e instanceof Element)z(e,t);else{if(t.callbacks.beforeNodeRemoved(e)===!1)return;e.parentNode?.removeChild(e),t.callbacks.afterNodeRemoved(e)}}function z(e,t){if(t.callbacks.beforeNodePantried(e)!==!1)if(Array.from(e.childNodes).forEach(r=>{z(r,t)}),t.persistentIds.has(e.id))t.pantry.moveBefore?t.pantry.moveBefore(e,null):t.pantry.insertBefore(e,null);else{if(t.callbacks.beforeNodeRemoved(e)===!1)return;e.parentNode?.removeChild(e),t.callbacks.afterNodeRemoved(e)}}function G(e,t){e instanceof Element&&(Array.from(t.pantry.children).reverse().forEach(r=>{let n=e.querySelector(`#${r.id}`);if(n){if(n.parentElement?.moveBefore)for(n.parentElement.moveBefore(r,n);n.hasChildNodes();)r.moveBefore(n.firstChild,null);else for(n.before(r);n.firstChild;)r.insertBefore(n.firstChild,null);t.callbacks.beforeNodeMorphed(r,n)!==!1&&(U(n,r,t),t.callbacks.afterNodeMorphed(r,n)),n.remove()}}),t.pantry.remove())}function de(e,t){return!e.deadIds.has(t)}function fe(e,t,r){return(e.idMap.get(r)||u).has(t)}function S(e,t){let r=e.idMap.get(t)||u;for(let n of r)e.deadIds.add(n)}function ce(e,t){for(let r of e.idMap.get(t)||u)if(e.persistentIds.has(r))return!0;return!1}function T(e,t,r){let n=e.idMap.get(t)||u,l=0;for(let o of n)de(e,o)&&fe(e,o,r)&&++l;return l}function D(e){let t=Array.from(e.querySelectorAll("[id]"));return e.id&&t.push(e),t}function K(e,t){let r=e.parentElement;for(let n of D(e)){let l=n;for(;l!==r&&l!=null;){let o=t.get(l);o==null&&(o=new Set,t.set(l,o)),o.add(n.id),l=l.parentElement}}}function he(e,t){let r=new Map;return K(e,r),K(t,r),r}function me(e,t){let r=o=>o.tagName+"#"+o.id,n=new Set(D(e).map(r)),l=new Set;for(let o of D(t))n.has(r(o))&&l.add(o.id);return l}return{morph:s,defaults:i}}();function X(u){return u.split("/").pop().split(".")[0]}function N(u){return u.replace(/\?.*$/,"")}function Z(u,i){let s=new URL(u,window.location.origin);return Object.entries(i).forEach(([c,g])=>{s.searchParams.set(c,g)}),s.toString()}function P(u){return Z(u,{reload:Date.now()})}async function E(){let u=P(Z(window.location.href,{hotwire_spark:"true"})),i=await fetch(u,{headers:{Accept:"text/html"}});if(!i.ok)throw new Error(`${i.status} when fetching ${u}`);let s=await i.text();return new DOMParser().parseFromString(s,"text/html")}var v=class{static async reload(i){let s=await E();return new v(s,i).reload()}static async reloadAll(){return Stimulus.controllers.forEach(i=>{Stimulus.unload(i.identifier),Stimulus.register(i.identifier,i.constructor)}),Promise.resolve()}constructor(i,s){this.document=i,this.changedFilePath=s,this.application=window.Stimulus}async reload(){p("Reload Stimulus controllers..."),this.application.stop(),await this.#t(),this.#u(),this.application.start()}async#t(){await Promise.all(this.#e.map(async i=>this.#a(i)))}get#e(){return this.controllerPathsToReload=this.controllerPathsToReload||this.#r.filter(i=>this.#l(i)),this.controllerPathsToReload}get#r(){return Object.keys(this.#i).filter(i=>i.endsWith("_controller"))}#l(i){return this.#s(i)===this.#n}get#n(){return this.changedControllerIdentifier=this.changedControllerIdentifier||this.#s(this.changedFilePath),this.changedControllerIdentifier}get#i(){return this.pathsByModule=this.pathsByModule||this.#o(),this.pathsByModule}#o(){let i=this.document.querySelector("script[type=importmap]");return JSON.parse(i.text).imports}async#a(i){p(`	${i}`);let s=this.#s(i),g=await import(P(this.#c(i)));this.#h(s,g)}#u(){this.#d.forEach(i=>this.#m(i.identifier))}get#d(){return this.#f?[]:this.application.controllers.filter(i=>this.#n===i.identifier)}get#f(){return this.#e.length>0}#c(i){return this.#i[i]}#s(i){return i.replace(/^\/+/,"").replace(/^controllers\//,"").replace("_controller","").replace(/\//g,"--").replace(/_/g,"-").replace(/\.js$/,"")}#h(i,s){this.application.unload(i),this.application.register(i,s.default)}#m(i){p(`	Removing controller ${i}`),this.application.unload(i)}};var M=class{static async reload(){return new M().reload()}async reload(){await this.#t(),await this.#r()}async#t(){p("Reload html with morph...");let i=await E();return this.#e(i.body),i}#e(i){Q.morph(document.body,i)}async#r(){await v.reloadAll()}};var k=class{static async reload(...i){return new k(...i).reload()}constructor(i=/./){this.filePattern=i}async reload(){p("Reload css..."),await Promise.all(await this.#t())}async#t(){return(await this.#e()).map(s=>this.#r(s))}async#e(){let i=await E();return Array.from(i.head.querySelectorAll("link[rel='stylesheet']"))}#r(i){return this.#l(i)?this.#n(i):Promise.resolve()}#l(i){return this.filePattern.test(i.getAttribute("href"))}async#n(i){return new Promise(s=>{let c=i.getAttribute("href"),g=this.#i(i)||this.#a(i);g.setAttribute("href",P(i.getAttribute("href"))),g.onload=()=>{p(`	${c}`),s()}})}#i(i){return this.#o.find(s=>N(i.href)===N(s.href))}get#o(){return Array.from(document.querySelectorAll("link[rel='stylesheet']"))}#a(i){return document.head.append(i),i}};var $=class{static async start(){let i=new EventSource("/hotwired-laravel-hotreload/sse");i.addEventListener("tick",()=>{document.body.setAttribute("data-hotwire-hotreload-ready","true")},{once:!0}),i.addEventListener("reload_html",s=>{let c=JSON.parse(s.data);return(HotwireHotreload.config.htmlReloadMethod==="morph"?M:A).reload(c.path)}),i.addEventListener("reload_stimulus",s=>{if(window.Stimulus!==void 0){let c=JSON.parse(s.data);return v.reload(c.path)}}),i.addEventListener("reload_css",s=>{let c=JSON.parse(s.data);return k.reload(new RegExp(X(c.path)))})}};$.start();var be={config:B};window.HotwireHotreload=be;})();
//# sourceMappingURL=hotreload.min.js.map
